{% extends "base.jinja" %}
{% block content %}
  <h1 class="title">Musical Programs</h1>
  
  {% if productions %}
    <div class="box">
      <div class="columns is-multiline">
      {% for p in productions %}
        <div class="column is-one-third">
          <div class="card">
            <div class="card-image">
              <figure class="image is-3by4">
                {% if p.cover_filename %}
                  <img src="{{ p.cover_filename }}" alt="{{ p.title }}">
                {% else %}
                  <div style="background: #f0f0f0; height: 300px; display: flex; align-items: center; justify-content: center; color: #999;">
                    <span>{{ p.title }}</span>
                  </div>
                {% endif %}
              </figure>
            </div>
            <div class="card-content">
              <p class="title is-5">{{ p.title }}</p>
              {% if p.subtitle %}<p class="subtitle is-6">{{ p.subtitle }}</p>{% endif %}
              <p class="mt-3"><a href="{{ url_for('view.viewer_production', production_id=p.id) }}" class="button is-link is-fullwidth">View Program</a></p>
            </div>
          </div>
        </div>
      {% endfor %}
      </div>
    </div>
  {% else %}
    <p>No productions available.</p>
  {% endif %}

  <p class="mt-4"><a href="{{ url_for('view.home') }}" class="button is-light">‚Üê Back</a></p>
{% endblock %}
